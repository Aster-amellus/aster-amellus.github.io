<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.36/fancybox/fancybox.css" integrity="sha256-zM8WXtG4eUn7dKKNMTuoWZub++VnSfaOpA/8PJfvTBo=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"aster-amellus.github.io","root":"/","images":"/images","scheme":"Pisces","darkmode":{"enable":true,"persistent":true,"default_scheme":"auto","icon":"ğŸŒ“"},"version":"8.23.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12,"post":true,"page":true,"archive":true,"category":true,"tag":true},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":true,"style":"flat"},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="æœ€è¿‘åœ¨çœ‹ Bartosz Milewski çš„ã€ŠCategory Theory for Programmersã€‹ï¼Œåšäº†äº›ç¬”è®°ã€‚ èŒƒç•´è®ºï¼šä»å¤åˆçš„æœ¬è´¨åˆ°è®¡ç®—çš„æŠ½è±¡ èŒƒç•´è®º (Category Theory) æ˜¯ä¸€ä¸ªé«˜åº¦æŠ½è±¡çš„æ•°å­¦åˆ†æ”¯ï¼Œå®ƒç ”ç©¶çš„æ ¸å¿ƒæ˜¯å¤åˆ (Composition)ã€‚å¯¹äºç¨‹åºå‘˜è€Œè¨€ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„ã€å¼ºå¤§çš„è¯­è¨€æ¥æè¿°å’Œæ¨ç†è½¯ä»¶ç³»ç»Ÿä¸­çš„ç»“æ„ä¸æ¨¡å¼ã€‚ 1. æ ¸å¿ƒå•å…ƒï¼šèŒƒç•´ (Catego">
<meta property="og:type" content="article">
<meta property="og:title" content="Category Theory Introduction">
<meta property="og:url" content="http://aster-amellus.github.io/2025/10/25/Category-Theory-Introduction/index.html">
<meta property="og:site_name" content="Aster&#39;s Blog">
<meta property="og:description" content="æœ€è¿‘åœ¨çœ‹ Bartosz Milewski çš„ã€ŠCategory Theory for Programmersã€‹ï¼Œåšäº†äº›ç¬”è®°ã€‚ èŒƒç•´è®ºï¼šä»å¤åˆçš„æœ¬è´¨åˆ°è®¡ç®—çš„æŠ½è±¡ èŒƒç•´è®º (Category Theory) æ˜¯ä¸€ä¸ªé«˜åº¦æŠ½è±¡çš„æ•°å­¦åˆ†æ”¯ï¼Œå®ƒç ”ç©¶çš„æ ¸å¿ƒæ˜¯å¤åˆ (Composition)ã€‚å¯¹äºç¨‹åºå‘˜è€Œè¨€ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„ã€å¼ºå¤§çš„è¯­è¨€æ¥æè¿°å’Œæ¨ç†è½¯ä»¶ç³»ç»Ÿä¸­çš„ç»“æ„ä¸æ¨¡å¼ã€‚ 1. æ ¸å¿ƒå•å…ƒï¼šèŒƒç•´ (Catego">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-10-25T14:02:22.000Z">
<meta property="article:modified_time" content="2025-10-25T14:10:04.314Z">
<meta property="article:author" content="Aster">
<meta property="article:tag" content="Aster">
<meta property="article:tag" content="Blog">
<meta property="article:tag" content="LLM">
<meta property="article:tag" content="AI">
<meta property="article:tag" content="Web3">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://aster-amellus.github.io/2025/10/25/Category-Theory-Introduction/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://aster-amellus.github.io/2025/10/25/Category-Theory-Introduction/","path":"2025/10/25/Category-Theory-Introduction/","title":"Category Theory Introduction"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Category Theory Introduction | Aster's Blog</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.36/fancybox/fancybox.umd.js" integrity="sha256-hiUEBwFEpLF6DlB8sGXlKo4kPZ46Ui4qGpd0vrVkOm4=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  



  <script src="/js/third-party/fancybox.js" defer></script>



  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" integrity="sha256-UF1fgpAiu3tPJN/uCqEUHNe7pnr+QR0SQDNfgglgtcM=" crossorigin="anonymous">
  <script class="next-config" data-name="katex" type="application/json">{"copy_tex_js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/copy-tex.min.js","integrity":"sha256-Us54+rSGDSTvIhKKUs4kygE2ipA0RXpWWh0/zLqw3bs="}}</script>
  <script src="/js/third-party/math/katex.js" defer></script>



<script>
  window.MARKOV_API_BASE = 'http://localhost:8000';
</script>




<link rel="stylesheet" href="/css/custom.css">

  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="Aster's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Aster's Blog</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">A Personal Blog by Aster</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="æœç´¢" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a></li><li class="menu-item menu-item-search"><a href="/search-advanced/" rel="section"><i class="fa fa-search fa-fw"></i>æœç´¢</a></li><li class="menu-item menu-item-wordcloud"><a href="/wordcloud/" rel="section"><i class="fa fa-cloud fa-fw"></i>è¯äº‘</a></li><li class="menu-item menu-item-markov"><a href="/markov/" rel="section"><i class="fa fa-magic fa-fw"></i>markov</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

  <div class="sidebar-background-blur-effect"></div>

  <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
          <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8C%83%E7%95%B4%E8%AE%BA%EF%BC%9A%E4%BB%8E%E5%A4%8D%E5%90%88%E7%9A%84%E6%9C%AC%E8%B4%A8%E5%88%B0%E8%AE%A1%E7%AE%97%E7%9A%84%E6%8A%BD%E8%B1%A1"><span class="nav-number">1.</span> <span class="nav-text">èŒƒç•´è®ºï¼šä»å¤åˆçš„æœ¬è´¨åˆ°è®¡ç®—çš„æŠ½è±¡</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%A0%B8%E5%BF%83%E5%8D%95%E5%85%83%EF%BC%9A%E8%8C%83%E7%95%B4-Category-%E2%80%94%E2%80%94-%E5%A4%8D%E5%90%88%E7%9A%84%E9%80%9A%E7%94%A8%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.1.</span> <span class="nav-text">1. æ ¸å¿ƒå•å…ƒï¼šèŒƒç•´ (Category) â€”â€” å¤åˆçš„é€šç”¨ç³»ç»Ÿ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E6%9C%80%E7%AE%80%E8%8C%83%E7%95%B4%EF%BC%9A%E5%B9%BA%E5%8D%8A%E7%BE%A4-Monoid-%E2%80%94%E2%80%94-%E5%8D%95%E4%B8%80%E4%B8%8A%E4%B8%8B%E6%96%87%E7%9A%84%E5%A4%8D%E5%90%88"><span class="nav-number">1.2.</span> <span class="nav-text">2. æœ€ç®€èŒƒç•´ï¼šå¹ºåŠç¾¤ (Monoid) â€”â€” å•ä¸€ä¸Šä¸‹æ–‡çš„å¤åˆ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E6%9E%84%E9%80%A0%E5%AF%B9%E8%B1%A1%EF%BC%9A%E7%A7%AF-Product-%E4%B8%8E-%E4%BD%99%E7%A7%AF-Coproduct"><span class="nav-number">1.3.</span> <span class="nav-text">3. æ„é€ å¯¹è±¡ï¼šç§¯ (Product) ä¸ ä½™ç§¯ (Coproduct)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E6%8B%AF%E6%95%91%E5%A4%8D%E5%90%88%EF%BC%9AKleisli-%E8%8C%83%E7%95%B4%E4%B8%8E%E5%B9%BA%E5%AD%90-Monad"><span class="nav-number">1.4.</span> <span class="nav-text">4. æ‹¯æ•‘å¤åˆï¼šKleisli èŒƒç•´ä¸å¹ºå­ (Monad)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">2.</span> <span class="nav-text">æ€»ç»“</span></a></li></ol></div>
          </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Aster"
      src="/image/mikage.gif">
  <p class="site-author-name" itemprop="name">Aster</p>
  <div class="site-description" itemprop="description">Welcome to Aster's Blog, a place to share thoughts and ideas.</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">3</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/aster-amellus" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;aster-amellus" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS â†’ &#x2F;atom.xml" rel="noopener me"><i class="fa fa-rss fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/qfwfq.qwq@gmail.com" title="E-Mail â†’ qfwfq.qwq@gmail.com" rel="noopener me"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://x.com/A4ter_" title="Twitter â†’ https:&#x2F;&#x2F;x.com&#x2F;A4ter_" rel="noopener me" target="_blank"><i class="fab fa-twitter fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

<div class="sidebar-background-blur-effect"></div>

<div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
		<img class="site-author-image" itemprop="image" alt="Aster"
			src="/image/mikage.gif">
	<p class="site-author-name" itemprop="name">Aster</p>
	<div class="site-description" itemprop="description">Welcome to Aster's Blog, a place to share thoughts and ideas.</div>
</div>
<div class="site-state-wrap animated">
	<nav class="site-state">
			<div class="site-state-item site-state-posts">
				<a href="/archives/">
					<span class="site-state-item-count">3</span>
					<span class="site-state-item-name">æ—¥å¿—</span>
				</a>
			</div>
			<div class="site-state-item site-state-categories">
					<a href="/categories/">
				<span class="site-state-item-count">1</span>
				<span class="site-state-item-name">åˆ†ç±»</span></a>
			</div>
			<div class="site-state-item site-state-tags">
					<a href="/tags/">
				<span class="site-state-item-count">6</span>
				<span class="site-state-item-name">æ ‡ç­¾</span></a>
			</div>
	</nav>
</div>
	<div class="links-of-author animated">
			<span class="links-of-author-item">
				<a href="https://github.com/aster-amellus" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;aster-amellus" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i></a>
			</span>
			<span class="links-of-author-item">
				<a href="/atom.xml" title="RSS â†’ &#x2F;atom.xml" rel="noopener me"><i class="fa fa-rss fa-fw"></i></a>
			</span>
			<span class="links-of-author-item">
				<a href="/qfwfq.qwq@gmail.com" title="E-Mail â†’ qfwfq.qwq@gmail.com" rel="noopener me"><i class="fa fa-envelope fa-fw"></i></a>
			</span>
			<span class="links-of-author-item">
				<a href="https://x.com/A4ter_" title="Twitter â†’ https:&#x2F;&#x2F;x.com&#x2F;A4ter_" rel="noopener me" target="_blank"><i class="fab fa-twitter fa-fw"></i></a>
			</span>
	</div>
	<div class="cc-license animated" itemprop="license">
		<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
	</div>



        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://aster-amellus.github.io/2025/10/25/Category-Theory-Introduction/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/image/mikage.gif">
      <meta itemprop="name" content="Aster">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Aster's Blog">
      <meta itemprop="description" content="Welcome to Aster's Blog, a place to share thoughts and ideas.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Category Theory Introduction | Aster's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Category Theory Introduction
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-10-25 22:02:22" itemprop="dateCreated datePublished" datetime="2025-10-25T22:02:22+08:00">2025-10-25</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>5.3k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>5 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p>æœ€è¿‘åœ¨çœ‹ Bartosz Milewski çš„ã€ŠCategory Theory for Programmersã€‹ï¼Œåšäº†äº›ç¬”è®°ã€‚</p>
<h3 id="èŒƒç•´è®ºï¼šä»å¤åˆçš„æœ¬è´¨åˆ°è®¡ç®—çš„æŠ½è±¡">èŒƒç•´è®ºï¼šä»å¤åˆçš„æœ¬è´¨åˆ°è®¡ç®—çš„æŠ½è±¡</h3>
<p>èŒƒç•´è®º (Category Theory) æ˜¯ä¸€ä¸ªé«˜åº¦æŠ½è±¡çš„æ•°å­¦åˆ†æ”¯ï¼Œå®ƒç ”ç©¶çš„æ ¸å¿ƒæ˜¯<strong>å¤åˆ (Composition)</strong>ã€‚å¯¹äºç¨‹åºå‘˜è€Œè¨€ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„ã€å¼ºå¤§çš„è¯­è¨€æ¥æè¿°å’Œæ¨ç†è½¯ä»¶ç³»ç»Ÿä¸­çš„ç»“æ„ä¸æ¨¡å¼ã€‚</p>
<h4 id="1-æ ¸å¿ƒå•å…ƒï¼šèŒƒç•´-Category-â€”â€”-å¤åˆçš„é€šç”¨ç³»ç»Ÿ">1. æ ¸å¿ƒå•å…ƒï¼šèŒƒç•´ (Category) â€”â€” å¤åˆçš„é€šç”¨ç³»ç»Ÿ</h4>
<p>ä¸€ä¸ª<strong>èŒƒç•´</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="script">C</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\mathcal{C})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathcal" style="margin-right:0.05834em;">C</span></span><span class="mclose">)</span></span></span></span> æ˜¯ä¸€ä¸ªç”±ä»¥ä¸‹éƒ¨åˆ†ç»„æˆçš„æ•°å­¦ç»“æ„ï¼š</p>
<ol>
<li><strong>å¯¹è±¡ (Objects)</strong>ï¼šä¸€ç°‡â€œç‚¹â€æˆ–â€œèŠ‚ç‚¹â€ã€‚</li>
<li><strong>æ€å°„ (Morphisms)</strong>ï¼šä¸€ç°‡â€œç®­å¤´â€ï¼Œæ¯ä¸ªæ€å°„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span> éƒ½æœ‰ä¸€ä¸ªæºå¯¹è±¡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> å’Œä¸€ä¸ªç›®æ ‡å¯¹è±¡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ï¼Œè®°ä½œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mi>A</mi><mo>â†’</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">f: A \to B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ã€‚</li>
<li><strong>å¤åˆ (Composition)</strong>ï¼šä¸€ä¸ªäºŒå…ƒè¿ç®— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ˜</mo></mrow><annotation encoding="application/x-tex">\circ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44445em;vertical-align:0em;"></span><span class="mord">âˆ˜</span></span></span></span>ï¼Œå¯¹äºä»»æ„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mi>A</mi><mo>â†’</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">f: A \to B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>:</mo><mi>B</mi><mo>â†’</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">g: B \to C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span>ï¼Œå¿…é¡»å­˜åœ¨ä¸€ä¸ªå¤åˆæ€å°„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>âˆ˜</mo><mi>f</mi><mo>:</mo><mi>A</mi><mo>â†’</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">g \circ f: A \to C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.63889em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span>ã€‚</li>
<li><strong>å•ä½æ€å°„ (Identity)</strong>ï¼šå¯¹äºæ¯ä¸€ä¸ªå¯¹è±¡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>ï¼Œå¿…é¡»å­˜åœ¨ä¸€ä¸ªå•ä½æ€å°„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>id</mtext><mi>A</mi></msub><mo>:</mo><mi>A</mi><mo>â†’</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">\text{id}_A: A \to A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord text"><span class="mord">id</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>ã€‚</li>
</ol>
<p>è¿™ä¸ªç³»ç»Ÿå¿…é¡»æ»¡è¶³ä¸¤æ¡å…¬ç†ï¼š</p>
<ul>
<li><strong>ç»“åˆå¾‹</strong>ï¼š <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo>âˆ˜</mo><mo stretchy="false">(</mo><mi>g</mi><mo>âˆ˜</mo><mi>f</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>h</mi><mo>âˆ˜</mo><mi>g</mi><mo stretchy="false">)</mo><mo>âˆ˜</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">h \circ (g \circ f) = (h \circ g) \circ f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>ã€‚</li>
<li><strong>å•ä½å…ƒå¾‹</strong>ï¼š <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>âˆ˜</mo><msub><mtext>id</mtext><mi>A</mi></msub><mo>=</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">f \circ \text{id}_A = f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord text"><span class="mord">id</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span> ä¸” <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>id</mtext><mi>B</mi></msub><mo>âˆ˜</mo><mi>f</mi><mo>=</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">\text{id}_B \circ f = f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord text"><span class="mord">id</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>ã€‚</li>
</ul>
<p>ä¸¾ä¸€äº›ä¾‹å­ï¼š</p>
<ul>
<li>
<p><strong>ç±»å‹ç³»ç»Ÿ</strong>ï¼šç¼–ç¨‹è¯­è¨€çš„ç±»å‹ç³»ç»Ÿæ˜¯ä¸€ä¸ªå¤©ç„¶çš„èŒƒç•´ï¼ˆåœ¨ Haskell ä¸­ç§°ä½œ <strong>Hask</strong>ï¼Œåœ¨ Rust ä¸­æˆ‘ä»¬å¯ä»¥ç§°ä¹‹ä¸º <strong>RustTypes</strong>ï¼‰ã€‚</p>
</li>
<li>
<p><strong>å¯¹è±¡</strong>ï¼šæ‰€æœ‰åˆæ³•çš„ç±»å‹ï¼ˆ<code>i32</code>, <code>String</code>, <code>struct User</code>, <code>enum Result</code> â€¦ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æ€å°„</strong>ï¼šå…¨å±€çš„çº¯å‡½æ•°ã€‚ä¾‹å¦‚ <code>fn to_string(x: i32) -&gt; String</code> æ˜¯ä¸€ä¸ªä» <code>i32</code> åˆ° <code>String</code> çš„æ€å°„ã€‚</p>
</li>
<li>
<p><strong>å¤åˆ</strong>ï¼šå‡½æ•°è°ƒç”¨ã€‚ <code>g(f(x))</code> å¯¹åº” <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>âˆ˜</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">g \circ f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.63889em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>ã€‚</p>
</li>
<li>
<p><strong>å•ä½æ€å°„</strong>ï¼šæ’ç­‰å‡½æ•°ï¼Œå¦‚ Rust ä¸­çš„ <code>std::convert::identity</code>ã€‚</p>
<p>ä¸€ä¸ªç±»å‹æ£€æŸ¥å™¨ (Type Checker) çš„å·¥ä½œï¼Œæœ¬è´¨ä¸Šå°±æ˜¯åœ¨éªŒè¯æˆ‘ä»¬æ‰€å†™çš„ç¨‹åºï¼ˆæ€å°„çš„å¤åˆï¼‰åœ¨è¿™ä¸ªèŒƒç•´ä¸­æ˜¯å¦æ˜¯æœ‰æ•ˆçš„ã€‚</p>
</li>
</ul>
<h4 id="2-æœ€ç®€èŒƒç•´ï¼šå¹ºåŠç¾¤-Monoid-â€”â€”-å•ä¸€ä¸Šä¸‹æ–‡çš„å¤åˆ">2. æœ€ç®€èŒƒç•´ï¼šå¹ºåŠç¾¤ (Monoid) â€”â€” å•ä¸€ä¸Šä¸‹æ–‡çš„å¤åˆ</h4>
<p><strong>å¹ºåŠç¾¤ (Monoid)</strong> æ˜¯ä¸€ä¸ªåªæœ‰ä¸€ä¸ªå¯¹è±¡çš„èŒƒç•´ã€‚</p>
<p>è¿™ä¸ªå®šä¹‰å‡ºäººæ„æ–™åœ°ç®€æ´ã€‚è®©æˆ‘ä»¬å±•å¼€å®ƒï¼š</p>
<ol>
<li><strong>å¯¹è±¡</strong>ï¼šåªæœ‰ä¸€ä¸ªå¯¹è±¡ï¼Œç§°ä¹‹ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span>ã€‚</li>
<li><strong>æ€å°„</strong>ï¼šç”±äºåªæœ‰ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€æœ‰çš„æ€å°„éƒ½æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>â†’</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">m \to m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span>ã€‚</li>
<li><strong>å¤åˆ</strong>ï¼šæ€å°„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mi>m</mi><mo>â†’</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">f: m \to m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>:</mo><mi>m</mi><mo>â†’</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">g: m \to m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span> çš„å¤åˆ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>âˆ˜</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">g \circ f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.63889em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span> ä»ç„¶æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>â†’</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">m \to m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span>ã€‚</li>
<li><strong>å•ä½æ€å°„</strong>ï¼š <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>id</mtext><mi>m</mi></msub><mo>:</mo><mi>m</mi><mo>â†’</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">\text{id}_m: m \to m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord text"><span class="mord">id</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span>ã€‚</li>
</ol>
<p>è¿™å®Œç¾åœ°å¯¹åº”äº†å¹ºåŠç¾¤çš„ä»£æ•°å®šä¹‰ï¼šä¸€ä¸ªé›†åˆ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span>ï¼ˆèŒƒç•´ä¸­çš„æ€å°„é›†åˆï¼‰ï¼Œä¸€ä¸ªäºŒå…ƒç»“åˆè¿ç®— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‹…</mo></mrow><annotation encoding="application/x-tex">\cdot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44445em;vertical-align:0em;"></span><span class="mord">â‹…</span></span></span></span>ï¼ˆèŒƒç•´ä¸­çš„å¤åˆ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ˜</mo></mrow><annotation encoding="application/x-tex">\circ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44445em;vertical-align:0em;"></span><span class="mord">âˆ˜</span></span></span></span>ï¼‰ï¼Œä»¥åŠä¸€ä¸ªå•ä½å…ƒ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">e</span></span></span></span>ï¼ˆèŒƒç•´ä¸­çš„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>id</mtext><mi>m</mi></msub></mrow><annotation encoding="application/x-tex">\text{id}_m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord text"><span class="mord">id</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼‰ã€‚</p>
<p>å¹ºåŠç¾¤åœ¨è®¡ç®—ä¸­æ— å¤„ä¸åœ¨ï¼Œå› ä¸ºå®ƒä»¬ä»£è¡¨äº†â€œå¯ç»“åˆçš„èšåˆâ€æ“ä½œã€‚</p>
<ul>
<li>
<p><strong>æ•°æ®èšåˆ (Data Aggregation)</strong>ï¼š</p>
<ul>
<li><code>(&amp;str, +)</code> ä¸æ˜¯å¹ºåŠç¾¤ï¼ˆ<code>+</code> åœ¨ Rust ä¸­ä¸é€‚ç”¨äº <code>&amp;str</code>ï¼‰ï¼Œä½† <code>(String, +)</code> æ˜¯ï¼ˆ<code>+</code> åœ¨ Rust ä¸­ä¸º <code>String</code> å®ç°äº† <code>Add</code> traitï¼Œä½†æ›´è‡ªç„¶çš„å¹ºåŠç¾¤æ“ä½œæ˜¯ <code>append</code>ï¼Œå•ä½å…ƒæ˜¯ <code>&quot;&quot;</code>ï¼‰ã€‚</li>
<li><code>(u64, +)</code> å’Œ <code>(u64, *)</code> éƒ½æ˜¯å¹ºåŠç¾¤ï¼Œå•ä½å…ƒåˆ†åˆ«æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>ã€‚</li>
<li><code>(bool, ||)</code> å’Œ <code>(bool, &amp;&amp;)</code> éƒ½æ˜¯å¹ºåŠç¾¤ï¼Œå•ä½å…ƒåˆ†åˆ«æ˜¯ <code>false</code> å’Œ <code>true</code>ã€‚</li>
</ul>
</li>
<li>
<p><strong>MapReduce ä¸å¹¶è¡Œè®¡ç®—</strong>ï¼š
MapReduce æ¨¡å¼ä¸­çš„ <code>Reduce</code> æ­¥éª¤ï¼ˆä»¥åŠè®¸å¤šå¹¶è¡Œæ•°æ®å¤„ç†ç®—æ³•ï¼‰å¼ºçƒˆä¾èµ–äºå¹ºåŠç¾¤ã€‚åªè¦ä¸€ä¸ªæ“ä½œæ»¡è¶³ç»“åˆå¾‹ï¼ˆå¹ºåŠç¾¤å…¬ç†ï¼‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†å…¶åˆ†å¸ƒåˆ°å¤šä¸ªæ ¸å¿ƒä¸Šå¹¶è¡Œè®¡ç®—ï¼Œæœ€åå†å°†ä¸­é—´ç»“æœä¸¤ä¸¤åˆå¹¶ï¼Œè€Œæ— éœ€å…³å¿ƒåˆå¹¶çš„é¡ºåºã€‚ä¾‹å¦‚ï¼Œç»Ÿè®¡è¯é¢‘æ—¶ï¼Œ<code>(WordCountMap, merge)</code> æ˜¯ä¸€ä¸ªå¹ºåŠç¾¤ã€‚</p>
</li>
<li>
<p><strong>å½¢å¼è¯­è¨€ä¸è‡ªåŠ¨æœº</strong>ï¼š
ç»™å®šä¸€ä¸ªå­—æ¯è¡¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î£</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î£</span></span></span></span>ï¼ˆå¦‚ <code>&#123;'a', 'b'&#125;</code>ï¼‰ï¼Œç”± <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î£</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Î£</span></span></span></span> ä¸­å­—ç¬¦ç»„æˆçš„æ‰€æœ‰æœ‰é™å­—ç¬¦ä¸²çš„é›†åˆ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">Î£</mi><mo>âˆ—</mo></msup></mrow><annotation encoding="application/x-tex">\Sigma^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.688696em;vertical-align:0em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span></span></span></span></span></span></span></span>ï¼Œåœ¨â€œå­—ç¬¦ä¸²è¿æ¥â€è¿ç®—ä¸‹æ„æˆä¸€ä¸ª<strong>è‡ªç”±å¹ºåŠç¾¤ (Free Monoid)</strong>ï¼Œå…¶å•ä½å…ƒæ˜¯ç©ºå­—ç¬¦ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ïµ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">Ïµ</span></span></span></span>ã€‚
è¿™ä¸ªè‡ªç”±å¹ºåŠç¾¤æ˜¯è‡ªåŠ¨æœºç†è®ºçš„åŸºçŸ³ã€‚ä¸€ä¸ªç¡®å®šæ€§æœ‰é™è‡ªåŠ¨æœº (DFA) çš„è½¬ç§»å‡½æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î´</mi><mo stretchy="false">(</mo><mi>q</mi><mo separator="true">,</mo><mi>w</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\delta(q, w)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span></span></span></span>ï¼ˆä»çŠ¶æ€ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span> å¼€å§‹è¯»å…¥å­—ç¬¦ä¸² <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>ï¼‰å¯ä»¥è¢«ç²¾ç¡®åœ°æè¿°ä¸ºè‡ªç”±å¹ºåŠç¾¤ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">Î£</mi><mo>âˆ—</mo></msup></mrow><annotation encoding="application/x-tex">\Sigma^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.688696em;vertical-align:0em;"></span><span class="mord"><span class="mord">Î£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.688696em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span></span></span></span></span></span></span></span> åœ¨çŠ¶æ€é›† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">Q</span></span></span></span> ä¸Šçš„ä¸€ä¸ª<strong>å¹ºåŠç¾¤ä½œç”¨ (Monoid Action)</strong>ã€‚</p>
</li>
<li>
<p><strong>å¹¶å‘ä¸åˆ†å¸ƒå¼ç³»ç»Ÿ</strong>ï¼š
åœ¨ CRDTs (Conflict-free Replicated Data Types) ä¸­ï¼ŒçŠ¶æ€çš„åˆå¹¶ (merge) æ“ä½œé€šå¸¸è¢«è®¾è®¡ä¸ºå¹ºåŠç¾¤è¿ç®—ï¼ˆç‰¹åˆ«æ˜¯æ»¡è¶³äº¤æ¢å¾‹çš„å¹ºåŠç¾¤ï¼Œå³é˜¿è´å°”å¹ºåŠç¾¤ï¼‰ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªâ€œå¢é•¿å‹é›†åˆâ€(G-Set) çš„åˆå¹¶æ“ä½œå°±æ˜¯é›†åˆçš„<strong>å¹¶é›† (Union)</strong>ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¹ºåŠç¾¤ï¼ˆå•ä½å…ƒæ˜¯ç©ºé›† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ…</mi></mrow><annotation encoding="application/x-tex">\emptyset</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">âˆ…</span></span></span></span>ï¼‰ï¼Œè¿™ä¿è¯äº†æ— è®ºå‰¯æœ¬ä»¥ä½•ç§é¡ºåºã€ä½•ç§é¢‘ç‡åˆå¹¶ï¼Œæœ€ç»ˆéƒ½ä¼šæ”¶æ•›åˆ°ä¸€è‡´çš„çŠ¶æ€ã€‚</p>
</li>
</ul>
<h4 id="3-æ„é€ å¯¹è±¡ï¼šç§¯-Product-ä¸-ä½™ç§¯-Coproduct">3. æ„é€ å¯¹è±¡ï¼šç§¯ (Product) ä¸ ä½™ç§¯ (Coproduct)</h4>
<p>èŒƒç•´è®ºæä¾›äº†æ„é€ æ–°å¯¹è±¡çš„é€šç”¨è“å›¾ã€‚åœ¨ <code>RustTypes</code> èŒƒç•´ä¸­ï¼Œè¿™å¯¹åº”äº†<strong>ä»£æ•°æ•°æ®ç±»å‹ (Algebraic Data Types, ADT)</strong>ã€‚</p>
<ol>
<li><strong>ç§¯ (Product)ï¼šâ€œå’Œâ€ (AND) ç»“æ„</strong></li>
</ol>
<ul>
<li><strong>èŒƒç•´è®ºå®šä¹‰</strong>ï¼šå¯¹è±¡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> çš„ç§¯æ˜¯ä¸€ä¸ªå¯¹è±¡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span> ä»¥åŠä¸¤ä¸ªæŠ•å½±æ€å°„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mi>A</mi></msub><mo>:</mo><mi>P</mi><mo>â†’</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">p_A: P \to A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mi>B</mi></msub><mo>:</mo><mi>P</mi><mo>â†’</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">p_B: P \to B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ã€‚</li>
<li><strong>ç¼–ç¨‹å®ç°</strong>ï¼š<code>struct</code> å’Œå…ƒç»„ (Tuple)ã€‚</li>
<li><strong>é‡Šä¹‰</strong>ï¼šä¸€ä¸ª <code>Product</code> ç±»å‹çš„å€¼å¿…é¡»<em>åŒæ—¶</em>åŒ…å«ä¸€ä¸ª <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> ç±»å‹çš„å€¼<strong>å’Œ</strong>ä¸€ä¸ª <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> ç±»å‹çš„å€¼ã€‚</li>
</ul>
<!-- end list -->
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Product (ç§¯)</span></span><br><span class="line"><span class="comment">// ä¸€ä¸ª User å¿…é¡»åŒæ—¶åŒ…å« name (String) AND age (u32)</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    name: <span class="type">String</span>,</span><br><span class="line">    age: <span class="type">u32</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸€ä¸ªå…ƒç»„ (String, u32) ä¹Ÿæ˜¯ç§¯</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">product</span>: (<span class="type">String</span>, <span class="type">u32</span>) = (<span class="string">&quot;Alice&quot;</span>.<span class="title function_ invoke__">to_string</span>(), <span class="number">30</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>CS åº”ç”¨</strong>ï¼šæ•°æ®åº“ä¸­çš„è¡Œï¼ˆRowï¼‰æ˜¯å…¶æ‰€æœ‰åˆ—ï¼ˆColumnï¼‰ç±»å‹çš„ç§¯ï¼›ç½‘ç»œåè®®ä¸­å›ºå®šå¸ƒå±€çš„å¤´éƒ¨ï¼ˆHeaderï¼‰æ˜¯å…¶æ‰€æœ‰å­—æ®µçš„ç§¯ï¼›JSON å¯¹è±¡ä¹Ÿæ˜¯ä¸€ç§ç§¯ã€‚</li>
</ul>
<p>2.<strong>ä½™ç§¯ (Coproduct)ï¼šâ€œæˆ–â€ (OR) Gj ç»“æ„</strong></p>
<ul>
<li><strong>èŒƒç•´è®ºå®šä¹‰</strong>ï¼šå¯¹è±¡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> çš„ä½™ç§¯æ˜¯ä¸€ä¸ªå¯¹è±¡ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> ä»¥åŠä¸¤ä¸ªæ³¨å…¥æ€å°„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mi>A</mi></msub><mo>:</mo><mi>A</mi><mo>â†’</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">i_A: A \to C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mi>B</mi></msub><mo>:</mo><mi>B</mi><mo>â†’</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">i_B: B \to C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span>ã€‚</li>
<li><strong>ç¼–ç¨‹å®ç°</strong>ï¼š<code>enum</code>ï¼ˆå¸¦æ ‡ç­¾çš„è”åˆä½“ Tagged Unionï¼‰ã€‚</li>
<li><strong>é‡Šä¹‰</strong>ï¼šä¸€ä¸ª <code>Coproduct</code> ç±»å‹çš„å€¼<em>è¦ä¹ˆ</em>æ˜¯ä¸€ä¸ª <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> ç±»å‹çš„å€¼ï¼Œ<em>è¦ä¹ˆ</em>æ˜¯ä¸€ä¸ª <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> ç±»å‹çš„å€¼ã€‚</li>
</ul>
<!-- end list -->
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Coproduct (ä½™ç§¯)</span></span><br><span class="line"><span class="comment">// ä¸€ä¸ª NetworkEvent è¦ä¹ˆæ˜¯ Connectedï¼ŒOR Disconnectedï¼ŒOR Data</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">NetworkEvent</span> &#123;</span><br><span class="line">    Connected, <span class="comment">// ç±»ä¼¼äºå•ä½ç±»å‹ ()</span></span><br><span class="line">    Disconnected,</span><br><span class="line">    <span class="title function_ invoke__">Data</span>(<span class="type">Vec</span>&lt;<span class="type">u8</span>&gt;), <span class="comment">// åŒ…å«ä¸€ä¸ª Vec&lt;u8&gt;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Result&lt;T, E&gt; æ˜¯ T å’Œ E çš„ä½™ç§¯</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">result</span>: <span class="type">Result</span>&lt;<span class="type">i32</span>, <span class="type">String</span>&gt; = <span class="title function_ invoke__">Ok</span>(<span class="number">100</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>Result&lt;T, E&gt;</code> æ˜¯èŒƒç•´è®ºä¸­ä½™ç§¯çš„æœ€ç»å…¸åº”ç”¨ï¼Œå®ƒå®Œç¾åœ°æ¨¡æ‹Ÿäº†â€œè®¡ç®—æˆåŠŸâ€æˆ–â€œè®¡ç®—å¤±è´¥â€ä¸¤ç§äº’æ–¥çš„å¯èƒ½ã€‚çŠ¶æ€æœºä¸­çš„çŠ¶æ€ï¼ˆä¸€ä¸ªç³»ç»Ÿåœ¨ä»»ä¸€æ—¶åˆ»åªèƒ½å¤„äºä¸€ä¸ªçŠ¶æ€ï¼‰ã€‚</li>
</ul>
<h4 id="4-æ‹¯æ•‘å¤åˆï¼šKleisli-èŒƒç•´ä¸å¹ºå­-Monad">4. æ‹¯æ•‘å¤åˆï¼šKleisli èŒƒç•´ä¸å¹ºå­ (Monad)</h4>
<p><strong>é—®é¢˜</strong>ï¼š<code>RustTypes</code> èŒƒç•´ä¸­çš„å¤åˆ <code>g(f(x))</code> éå¸¸è„†å¼±ã€‚å¦‚æœå‡½æ•°çš„è¿”å›ç±»å‹è¢«â€œåŒ…è£…â€åœ¨æŸä¸ªä¸Šä¸‹æ–‡ä¸­ï¼ˆå¦‚ <code>Option</code>, <code>Result</code>, <code>Future</code>ï¼‰ï¼Œç›´æ¥å¤åˆå°±ä¼šå¤±æ•ˆã€‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// èŒƒç•´ï¼šRustTypes</span></span><br><span class="line"><span class="comment">// æ€å°„ f: &amp;str -&gt; Option&lt;i32&gt;</span></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">parse_int</span>(s: &amp;<span class="type">str</span>) <span class="punctuation">-&gt;</span> <span class="type">Option</span>&lt;<span class="type">i32</span>&gt; &#123;</span><br><span class="line">    s.<span class="title function_ invoke__">parse</span>().<span class="title function_ invoke__">ok</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ€å°„ g: i32 -&gt; Result&lt;u32, &amp;&#x27;static str&gt;</span></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">check_positive</span>(n: <span class="type">i32</span>) <span class="punctuation">-&gt;</span> <span class="type">Result</span>&lt;<span class="type">u32</span>, &amp;<span class="symbol">&#x27;static</span> <span class="type">str</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> n &gt; <span class="number">0</span> &#123; <span class="title function_ invoke__">Ok</span>(n <span class="keyword">as</span> <span class="type">u32</span>) &#125; <span class="keyword">else</span> &#123; <span class="title function_ invoke__">Err</span>(<span class="string">&quot;Not positive&quot;</span>) &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤åˆ g o f å¤±è´¥ï¼</span></span><br><span class="line"><span class="comment">// check_positive(parse_int(&quot;123&quot;)); </span></span><br><span class="line"><span class="comment">//               ^ expected `i32`, found `Option&lt;i32&gt;`</span></span><br></pre></td></tr></table></figure>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæˆ‘ä»¬å¿…é¡»æ‰‹åŠ¨ç¼–å†™â€œèƒ¶æ°´ä»£ç â€æ¥å¤„ç†ä¸Šä¸‹æ–‡ï¼ˆ<code>Option</code> çš„ <code>None</code>ï¼Œ<code>Result</code> çš„ <code>Err</code>ï¼‰ï¼Œè¿™ç§æ¨¡å¼è¢«ç§°ä¸º <code>bind</code> æˆ– <code>flatMap</code>ã€‚åœ¨ Rust ä¸­ï¼Œå®ƒå¯¹åº” <code>and_then</code>ã€‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰‹åŠ¨å¤åˆ</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">result</span> = <span class="title function_ invoke__">parse_int</span>(<span class="string">&quot;123&quot;</span>)</span><br><span class="line">                .<span class="title function_ invoke__">ok_or</span>(<span class="string">&quot;Parse failed&quot;</span>) <span class="comment">// å…ˆå°† Option è½¬æ¢ä¸º Result</span></span><br><span class="line">                .<span class="title function_ invoke__">and_then</span>(check_positive); <span class="comment">// and_then å®ç°äº†èƒ¶æ°´ä»£ç </span></span><br></pre></td></tr></table></figure>
<p><strong>èŒƒç•´è®ºçš„æŠ½è±¡</strong>ï¼š</p>
<p><code>Option&lt;T&gt;</code>ã€<code>Result&lt;T, E&gt;</code>ã€<code>Future&lt;T&gt;</code> è¿™äº›ç»“æ„åœ¨èŒƒç•´è®ºä¸­è¢«ç§°ä¸º<strong>å¹ºå­ (Monad)</strong>ã€‚</p>
<p>ä¸€ä¸ª Monad æ˜¯ä¸€ç§ç»“æ„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>ï¼Œå®ƒå…è®¸æˆ‘ä»¬å®šä¹‰ä¸€ç§<strong>æ–°</strong>çš„å¤åˆæ–¹å¼ã€‚å®ƒå…è®¸æˆ‘ä»¬æ„å»ºä¸€ä¸ªå…¨æ–°çš„èŒƒç•´ï¼Œç§°ä¸º <strong>Kleisli èŒƒç•´</strong>ï¼š</p>
<ul>
<li><strong>å¯¹è±¡</strong>ï¼šä¸ <code>RustTypes</code> èŒƒç•´ç›¸åŒï¼ˆ<code>i32</code>, <code>String</code>â€¦ï¼‰ã€‚</li>
<li><strong>æ€å°„ (Kleisli ç®­å¤´)</strong>ï¼šæ€å°„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>â†’</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A \to B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> è¢«å®šä¹‰ä¸º <code>RustTypes</code> ä¸­å½¢å¦‚ <code>fn(A) -&gt; M&lt;B&gt;</code> çš„å‡½æ•°ã€‚
<ul>
<li>ä¾‹å¦‚ï¼Œ<code>parse_int: &amp;str -&gt; Option&lt;i32&gt;</code> æ˜¯ <code>Option</code> çš„ Kleisli èŒƒç•´ä¸­ä» <code>&amp;str</code> åˆ° <code>i32</code> çš„ä¸€ä¸ªæ€å°„ã€‚</li>
</ul>
</li>
<li><strong>å¤åˆ</strong>ï¼šKleisli èŒƒç•´ä¸­çš„å¤åˆ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>âˆ˜</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">g \circ f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.63889em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span> è¢«å®šä¹‰ä¸º <code>and_then</code> (æˆ– <code>flatMap</code>)ã€‚</li>
<li><strong>å•ä½æ€å°„</strong>ï¼š<code>fn(x: A) -&gt; M&lt;A&gt;</code>ï¼Œå³ <code>Some</code> æˆ– <code>Ok</code> æˆ– <code>Future::new</code>ã€‚</li>
</ul>
<p><strong>CS åº”ç”¨</strong>ï¼š</p>
<p>Monad (ä»¥åŠå®ƒä»¬å¯¹åº”çš„ Kleisli èŒƒç•´) æ˜¯ä¸€ä¸ªå¼ºå¤§çš„è®¾è®¡æ¨¡å¼ï¼Œç”¨äºæŠ½è±¡å’Œéš”ç¦»è®¡ç®—ä¸­çš„â€œå‰¯ä½œç”¨â€æˆ–â€œä¸Šä¸‹æ–‡â€ã€‚</p>
<ol>
<li>
<p><strong>é”™è¯¯å¤„ç† (Option, Result)</strong>ï¼šéš”ç¦»â€œå¯èƒ½å¤±è´¥â€çš„è®¡ç®—ä¸Šä¸‹æ–‡ã€‚</p>
</li>
<li>
<p><strong>å¼‚æ­¥ç¼–ç¨‹ (Future/Promise)</strong>ï¼šéš”ç¦»â€œå°šæœªå®Œæˆâ€çš„è®¡ç®—ä¸Šä¸‹æ–‡ã€‚<code>async/await</code> è¯­æ³•ç³–æœ¬è´¨ä¸Šå°±æ˜¯ Kleisli å¤åˆçš„è¯­æ³•ç³–ã€‚</p>
 <figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸¤ä¸ª Kleisli ç®­å¤´</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">fn</span> <span class="title function_">fetch_user</span>(id: <span class="type">u32</span>) <span class="punctuation">-&gt;</span> <span class="type">Result</span>&lt;User, reqwest::Error&gt; &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">fn</span> <span class="title function_">fetch_permissions</span>(user: User) <span class="punctuation">-&gt;</span> <span class="type">Result</span>&lt;<span class="type">Vec</span>&lt;<span class="type">String</span>&gt;, db::Error&gt; &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”¨ Kleisli å¤åˆ (async/await) å°†å®ƒä»¬ç»„åˆ</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">fn</span> <span class="title function_">get_user_permissions</span>(id: <span class="type">u32</span>) <span class="punctuation">-&gt;</span> <span class="type">Result</span>&lt;<span class="type">Vec</span>&lt;<span class="type">String</span>&gt;, AppError&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">user</span> = <span class="title function_ invoke__">fetch_user</span>(id).<span class="keyword">await</span>?; <span class="comment">// ç¬¬ä¸€æ¬¡ and_then (çš„å˜ä½“ `?`)</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">permissions</span> = <span class="title function_ invoke__">fetch_permissions</span>(user).<span class="keyword">await</span>?; <span class="comment">// ç¬¬äºŒæ¬¡ and_then</span></span><br><span class="line">    <span class="title function_ invoke__">Ok</span>(permissions)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>éç¡®å®šæ€§ (Iterator/Vec)</strong>ï¼šéš”ç¦»â€œå¯èƒ½è¿”å›å¤šä¸ªç»“æœâ€çš„ä¸Šä¸‹æ–‡ã€‚<code>Iterator::flat_map</code> å°±æ˜¯ <code>Iterator</code> Monad çš„ Kleisli å¤åˆã€‚è¿™åœ¨æ•°æ®åº“æŸ¥è¯¢ï¼ˆå¦‚ LINQï¼‰å’Œè§£æå™¨ç»„åˆå­ä¸­éå¸¸å¸¸è§ã€‚</p>
</li>
</ol>
<h3 id="æ€»ç»“">æ€»ç»“</h3>
<p>èŒƒç•´è®ºä¸ºè®¡ç®—æœºç§‘å­¦æä¾›äº†ä¸€å¥—ç²¾ç¡®çš„è¯­è¨€ã€‚å®ƒå°†çœ‹ä¼¼æ— å…³çš„æ¦‚å¿µç»Ÿä¸€èµ·æ¥ï¼š</p>
<ul>
<li>å‡½æ•°å¤åˆ <code>g(f(x))</code></li>
<li>å¹ºåŠç¾¤çš„èšåˆ <code>a + b</code></li>
<li>å¼‚æ­¥çš„é“¾å¼è°ƒç”¨ <code>future.then(...)</code></li>
</ul>
<p>â€¦å®ƒä»¬åœ¨æœ¬è´¨ä¸Šéƒ½æ˜¯åœ¨æŸä¸ªç‰¹å®š<strong>èŒƒç•´</strong>å†…çš„<strong>å¤åˆ</strong>æ“ä½œã€‚ç†è§£è¿™äº›åŸºæœ¬ç»“æ„ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿä»¥æ›´æŠ½è±¡ã€æ›´å¥å£®çš„æ–¹å¼æ¥è®¾è®¡å’Œæ¨ç†å¤æ‚çš„è½¯ä»¶ç³»ç»Ÿã€‚</p>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>æœ¬æ–‡ä½œè€…ï¼š </strong>Aster
  </li>
  <li class="post-copyright-link">
      <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
      <a href="http://aster-amellus.github.io/2025/10/25/Category-Theory-Introduction/" title="Category Theory Introduction">http://aster-amellus.github.io/2025/10/25/Category-Theory-Introduction/</a>
  </li>
  <li class="post-copyright-license">
      <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
  </li>
</ul>
</div>


        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2025/09/23/LLM-Quick-Look/" rel="prev" title="LLM Quick Look">
                  <i class="fa fa-angle-left"></i> LLM Quick Look
                </a>
            </div>
            <div class="post-nav-item">
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Aster</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">26k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">24 åˆ†é’Ÿ</span>
  </span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> å¼ºåŠ›é©±åŠ¨
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="è¿”å›é¡¶éƒ¨">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
